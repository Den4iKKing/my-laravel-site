import{r as p,l as V,y as z,g as U,o as t,b as F,e as J,c as n,B as _,n as N,a as e,t as c,T as Y,I as ne,z as R,s as ee,E as te,J as le,F as L,d as O,w as oe,v as re,f as A,K as de,j as q,C as H,L as ue,G as ge,M as Q,N as pe,O as xe,A as he}from"./app-B4k5rrsx.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const me={class:"text-xl"},ve={class:"flex-1"},be={class:"font-semibold text-base"},ye={class:"text-sm opacity-90"},fe={__name:"Toast",props:{title:String,message:String,status:{type:String,default:"info"},duration:{type:Number,default:3e3},zIndex:{type:Number,default:9999}},setup(C){const $=C,w=p(!0),k=p(null),l=()=>{w.value=!1,clearTimeout(k.value)};V(()=>{k.value=setTimeout(()=>w.value=!1,$.duration)});const u=z(()=>({success:"bg-darkgreen-100/60 text-emerald-50 border-emerald-500",error:"bg-darkred-200/60 text-wht-100 border-rose-500",warning:"bg-amber-900/80 text-amber-50 border-amber-500",info:"bg-indigo-900/80 text-indigo-50 border-indigo-500"})[$.status]||"bg-gray-900/80 text-gray-50 border-gray-500"),M=z(()=>({success:"bg-emerald-500/30",error:"bg-rose-500/30",warning:"bg-amber-500/30",info:"bg-indigo-500/30"})[$.status]||"bg-gray-500/30"),B=z(()=>({success:"✓",error:"×",warning:"!",info:"i"})[$.status]||"i");return(b,x)=>(t(),U(ne,{to:"body"},[F(Y,{name:"notify-slide"},{default:J(()=>[w.value?(t(),n("div",{key:0,class:N([["notify",u.value],"fixed top-5 right-5 p-4 rounded-lg shadow-xl flex items-center space-x-4 backdrop-blur-sm border border-opacity-20 z-50 max-w-md"])},[e("div",{class:N([["icon-container",M.value],"p-3 rounded-full flex items-center justify-center"])},[e("span",me,c(B.value),1)],2),e("div",ve,[e("h3",be,c(C.title),1),e("p",ye,c(C.message),1)]),e("button",{onClick:l,class:"text-sm opacity-70 hover:opacity-100 transition-opacity"},x[0]||(x[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))],2)):_("",!0)]),_:1})]))}},ce=K(fe,[["__scopeId","data-v-9ef83aed"]]),we={key:0,style:{"max-height":"100%",overflow:"auto"},class:"bg-gray-900/90 text-white w-full max-w-3xl rounded-xl p-6 relative shadow-2xl border border-gray-800"},ke={class:"p-6 space-y-8"},_e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},$e=["onClick"],Ce={key:0,class:"absolute -top-2 -right-2 w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center"},je={class:"flex flex-col items-center text-center space-y-3"},Se={class:""},Me=["src"],Be={class:"font-semibold text-gray-900 dark:text-white block"},Te={class:"text-sm text-gray-500 dark:text-gray-400"},Ie={class:"relative"},Ne={class:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/10 dark:to-purple-900/10 rounded-2xl p-6 border border-indigo-100 dark:border-indigo-800"},Ae={class:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6"},ze=["onClick"],Fe={class:"flex flex-col items-center space-y-1"},Pe={key:0,class:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center"},Le={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-indigo-200 dark:border-indigo-700"},Oe={class:"flex justify-between items-center"},Ee={class:"flex items-center space-x-2"},qe={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ve={class:"bg-gradient-to-r from-green-500 to-green-600 text-white px-3 py-1 rounded-full text-sm font-medium"},De=["disabled"],He={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},Qe={class:"flex space-x-3"},Re=["disabled"],Ue={__name:"PaymentModal",props:{isVisible:Boolean},emits:["close"],setup(C,{emit:$}){const w=C,k=$,l=p(!1),u=()=>{B(),k("close")},M=()=>{document.body.style.overflow="hidden"},B=()=>{document.documentElement.style.overflow=""},b=[{name:"СБП #1",hiddenName:"antilopay",additional:"card",fee:"5%",icon:"/images/payments/sbp.jpg",minAmount:50},{name:"БАНКОВСКИЕ КАРТЫ №1",hiddenName:"antilopay",additional:"card",fee:"5%",icon:"/images/payments/cards.jpg",minAmount:50},{name:"СБП #2",hiddenName:"morune",additional:"sbp",fee:"5%",icon:"/images/payments/sbp.jpg",minAmount:50},{name:"БАНКОВСКИЕ КАРТЫ №2",hiddenName:"morune",additional:"card",fee:"5%",icon:"/images/payments/cards.jpg",minAmount:50},{name:"Криптовалюта",hiddenName:"crypto",additional:"card",fee:"5%",icon:"/images/payments/crypto.png",minAmount:50},{name:"Другое #1",hiddenName:"cent",additional:"card",fee:"5%",icon:"/images/payments/cards.jpg",minAmount:50},{name:"Другое #2",hiddenName:"freekassa",additional:"card",fee:"5%",icon:"/images/payments/cards.jpg",minAmount:50}],x=p(null),a=p(100),s=z({get(){return a.value.toString().replace(/\.0+$/,"")},set(m){a.value=parseFloat(m)||0}}),h=p(""),T=p(null),j=p(null),y=p(0);z(()=>(parseFloat(a.value)||0)+y.value);const r=m=>{x.value=m},g=m=>{l.value||(l.value=!0,setTimeout(()=>l.value=!1,500),j.value=m,a.value=String(m.threshold),E())},o=m=>j.value?parseFloat(m.threshold)===parseFloat(j.value.threshold):!1,E=()=>{if(!j.value||!a.value){y.value=0;return}const m=parseFloat(a.value),d=parseFloat(j.value.threshold),v=parseFloat(j.value.percent);m>=d?y.value=m*(v/100):y.value=0},X=async()=>{var m,d;if(!l.value){if(l.value=!0,setTimeout(()=>l.value=!1,2e3),!x.value){P("Ошибка","Выберите способ оплаты","error");return}if(!a.value||parseFloat(a.value)<=0){P("Ошибка","Введите корректную сумму","error");return}if(parseFloat(a.value)<x.value.minAmount){P("Ошибка",`Минимальная сумма для ${x.value.name}: ${x.value.minAmount}₽`,"error");return}if(j.value&&parseFloat(a.value)<parseFloat(j.value.threshold)){P("Ошибка",`Для получения бонуса ${j.value.percent}% минимальная сумма: ${j.value.threshold}₽`,"error");return}try{const v=x.value.hiddenName,D=v.startsWith("morune")?"/payment/morune/redirect":v==="antilopay"?"/payment/antilopay/redirect":v==="crypto"?"/payment/crypto/redirect":v==="cent"?"/payment/cent/redirect":v==="freekassa"?"/payment/freekassa/redirect":"/payment/default/redirect",G=await R.post(D,{amount:Number(a.value),method_name:x.value.name,additional_method:x.value.additional,hiddenName:v}),se=((m=G.data)==null?void 0:m.redirectUrl)||((d=G.data)==null?void 0:d.payment_url);se?window.open(se,"_blank"):P("Ошибка","Ошибка при создании платежа","error")}catch(v){console.error("Ошибка при создании платежа:",v),v.response?P("Ошибка","Ошибка при создании платежа","error"):P("Ошибка","Ошибка сети, проверьте подключение","error")}}},Z=async()=>{if(!l.value){if(l.value=!0,setTimeout(()=>l.value=!1,2e3),!h.value.trim()){P("Ошибка","Введите промокод","error");return}try{(await R.post("/promo/activate",{code:h.value})).status===200&&P("Успех","Промокод успешно активирован!","success")}catch(m){if(m.response){const{status:d}=m.response;d===400?P("Ошибка","Неверный промокод","error"):d===429?P("Ошибка","Слишком много попыток","error"):P("Ошибка","Ошибка сервера","error")}else P("Ошибка","Ошибка сети","error")}h.value=""}},P=(m,d,v)=>{T.value={title:m,message:d,status:v},setTimeout(()=>T.value=null,3e3)},S=m=>Math.floor(m).toString(),i=()=>{const m=parseFloat(a.value||0);if(m<parseFloat(I.value[0].threshold)){j.value=null,y.value=0;return}let d=null;for(const v of I.value)m>=parseFloat(v.threshold)&&(!d||parseFloat(v.threshold)>parseFloat(d.threshold))&&(d=v);d&&(j.value=d,E())},f=()=>{Math.floor(parseFloat(a.value||0))<parseFloat(I.value[0].threshold)?(j.value=null,y.value=0):(i(),E())},I=p([]),W=m=>{m.target===m.currentTarget&&u()};return V(async()=>{try{const m=await R.get("/api/payment-bonuses");if(I.value=m.data,I.value.length>0){const d=[...I.value].sort((v,D)=>parseFloat(v.threshold)-parseFloat(D.threshold))[0];j.value=d,a.value=String(d.threshold),E()}}catch(m){console.error("Ошибка при загрузке бонусов:",m),P("Ошибка","Не удалось загрузить бонусы","error")}ee(a,()=>{f()}),ee(()=>w.isVisible,m=>{m?M():B()},{immediate:!0})}),te(()=>{B()}),(m,d)=>(t(),U(ne,{to:"body"},[F(Y,{name:"modal-fade"},{default:J(()=>[C.isVisible?(t(),n("div",{key:0,onMousedown:le(W,["self"]),class:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 p-4"},[F(Y,{name:"modal-slide"},{default:J(()=>[C.isVisible?(t(),n("div",we,[e("div",{class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},[d[3]||(d[3]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-indigo-600"},[e("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),e("line",{x1:"2",y1:"10",x2:"22",y2:"10"})])]),e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Выберите способ оплаты")],-1)),e("button",{onClick:u,class:"w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},d[2]||(d[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),e("div",ke,[e("div",null,[d[5]||(d[5]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Способы оплаты",-1)),e("div",_e,[(t(),n(L,null,O(b,v=>{var D,G;return e("div",{key:v.name,onClick:se=>r(v),class:N(["group relative p-6 rounded-2xl border-2 cursor-pointer transition-all duration-300 hover:shadow-lg",((D=x.value)==null?void 0:D.name)===v.name?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 shadow-lg scale-105":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-indigo-300 dark:hover:border-indigo-600"])},[((G=x.value)==null?void 0:G.name)===v.name?(t(),n("div",Ce,d[4]||(d[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("polyline",{points:"20 6 9 17 4 12"})],-1)]))):_("",!0),e("div",je,[e("div",Se,[e("img",{src:v.icon,alt:"",class:"w-16 h-16 object-contain"},null,8,Me)]),e("div",null,[e("span",Be,c(v.name),1),e("span",Te,"от "+c(v.minAmount)+"₽",1)])])],10,$e)}),64))])]),e("div",null,[d[7]||(d[7]=e("label",{class:"block text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Сумма пополнения ",-1)),e("div",Ie,[d[6]||(d[6]=e("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 font-medium"}," ₽ ",-1)),oe(e("input",{type:"number","onUpdate:modelValue":d[0]||(d[0]=v=>s.value=v),class:"w-full bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-2xl py-4 pl-12 pr-4 text-lg font-medium text-gray-900 dark:text-white placeholder-gray-400 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 transition-all outline-none",placeholder:"1000",onInput:E,step:"any"},null,544),[[re,s.value]])])]),e("div",Ne,[d[10]||(d[10]=e("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6 text-center flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-indigo-600 mr-2"},[e("polygon",{points:"12 2 15.09 8.26 22 9 17 14.74 18.18 21.02 12 17.77 5.82 21.02 7 14.74 2 9 8.91 8.26 12 2"})]),A(" Получите бонус ")],-1)),e("div",Ae,[(t(!0),n(L,null,O(I.value,v=>(t(),n("div",{key:v.threshold,onClick:D=>g(v),class:N(["relative p-4 rounded-xl text-center cursor-pointer transition-all duration-300",o(v)?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-lg scale-105 transform":j.value&&parseFloat(v.threshold)<parseFloat(j.value.threshold)?"bg-green-100 dark:bg-green-900/30 border-2 border-green-300 dark:border-green-700":"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600"])},[e("div",Fe,[e("span",{class:N(["text-2xl font-bold",o(v)?"text-white":"text-indigo-600 dark:text-indigo-400"])}," +"+c(parseFloat(v.percent).toFixed(0))+"% ",3),e("span",{class:N(["text-xs",o(v)?"text-indigo-100":"text-gray-500 dark:text-gray-400"])}," от "+c(S(v.threshold))+"₽ ",3)]),j.value&&parseFloat(v.threshold)<parseFloat(j.value.threshold)?(t(),n("div",Pe,d[8]||(d[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("polyline",{points:"20 6 9 17 4 12"})],-1)]))):_("",!0)],10,ze))),128))]),j.value&&y.value>0?(t(),n("div",Le,[e("div",Oe,[d[9]||(d[9]=e("span",{class:"text-gray-600 dark:text-gray-400 font-medium"},"К зачислению:",-1)),e("div",Ee,[e("span",qe,c(s.value)+"₽",1),e("span",Ve," +"+c(S(y.value))+"₽ ",1)])])])):_("",!0)]),e("button",{onClick:X,disabled:l.value,class:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 rounded-2xl transition-all duration-300 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none disabled:cursor-not-allowed"},[d[11]||(d[11]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),e("line",{x1:"2",y1:"10",x2:"22",y2:"10"})],-1)),e("span",null,c(l.value?"Обработка...":"Пополнить баланс"),1)],8,De),e("div",He,[d[12]||(d[12]=e("label",{class:"block text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-indigo-600 mr-2"},[e("path",{d:"M21 12c0 1-2 3-2 3l-6-3 6-3s2 2 2 3"}),e("path",{d:"M3 12l6-3-6-3c-1 1-1 5 0 6"}),e("path",{d:"M9 9v6"}),e("path",{d:"M15 9v6"})]),A(" Активировать промокод ")],-1)),e("div",Qe,[oe(e("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=v=>h.value=v),class:"flex-1 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-2xl py-3 px-4 text-gray-900 dark:text-white placeholder-gray-400 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 transition-all outline-none",placeholder:"Введите промокод"},null,512),[[re,h.value]]),e("button",{onClick:Z,disabled:l.value||!h.value.trim(),class:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold px-6 py-3 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl disabled:cursor-not-allowed"}," Применить ",8,Re)])])]),T.value?(t(),U(ce,{key:0,title:T.value.title,message:T.value.message,status:T.value.status},null,8,["title","message","status"])):_("",!0)])):_("",!0)]),_:1})],32)):_("",!0)]),_:1})]))}},Je=K(Ue,[["__scopeId","data-v-01ec1082"]]),Ke={class:"bg-gray-900 border-b border-gray-700 sticky top-0 z-50"},We={class:"max-w-6xl mx-auto px-4",style:{"max-width":"1800px"}},Ge={class:"flex items-center justify-between h-16"},Ye={class:"hidden md:flex items-center space-x-8"},Xe={class:"flex items-center space-x-6"},Ze=["href"],et=["src"],tt={class:"font-medium"},st={class:"flex items-center space-x-4"},ot={class:"text-white font-semibold"},rt=["src"],nt={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-xl py-2"},lt={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},at={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},it={key:0,class:"md:hidden border-t border-gray-700 py-4"},dt={class:"space-y-4"},ct={class:"space-y-2"},ut=["href"],gt=["src"],pt={class:"font-medium"},xt={class:"pt-4 border-t border-gray-700"},ht={key:0,class:"space-y-3"},mt={class:"flex items-center space-x-2"},vt={class:"text-white font-semibold"},bt={__name:"Navbar",props:["auth"],setup(C){const $=p(!1),w=p(!1),k=p(!1),l=p(null),u=p(null),M=[{label:"Telegram",link:"https://t.me/",image:"https://img.icons8.com/nolan/64/telegram-app.png"},{label:"Discord",link:"https://discord.gg",image:"https://img.icons8.com/nolan/64/discord-logo.png"},{label:"VK",link:"https://vk.com/",image:"https://img.icons8.com/nolan/64/vk-com.png"}],B=async()=>{var y;if((y=C.auth)!=null&&y.user)try{const r=await R.get("/api/user/balance");u.value=r.data.balance}catch(r){console.error("Ошибка загрузки баланса:",r)}},b=()=>{$.value=!0,document.documentElement.style.overflow="hidden"},x=()=>{$.value=!1,document.body.style.overflow=""},a=()=>{w.value=!w.value},s=()=>{k.value=!k.value},h=y=>{l.value&&!l.value.contains(y.target)&&(k.value=!1)},T=()=>{window.location.href="/login"};let j=null;return V(()=>{B(),j=setInterval(B,1e5),document.addEventListener("click",h)}),te(()=>{j&&clearInterval(j),document.removeEventListener("click",h)}),(y,r)=>(t(),n("nav",Ke,[e("div",We,[e("div",Ge,[r[4]||(r[4]=e("div",{class:"flex items-center"},[e("div",{class:"flex items-center space-x-1"},[e("span",{class:"text-2xl font-bold text-indigo-400"},"JDONATE"),e("span",{class:"text-2xl font-bold text-white"},"RUST")])],-1)),e("div",Ye,[e("div",Xe,[(t(),n(L,null,O(M,(g,o)=>e("a",{key:o,href:g.link,target:"_blank",class:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors duration-200 group"},[e("img",{src:g.image,alt:"icon",class:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"},null,8,et),e("span",tt,c(g.label),1)],8,Ze)),64))]),e("div",st,[C.auth.user?(t(),n("div",{key:0,class:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded-lg cursor-pointer transition-colors duration-200",onClick:b},[e("span",ot,c(u.value||"0"),1),r[0]||(r[0]=e("img",{src:"https://img.icons8.com/nolan/64/cheap-2.png",alt:"Coin",class:"w-5 h-5"},null,-1))])):_("",!0),C.auth.user?(t(),n("div",{key:1,class:"relative",ref_key:"userMenuRef",ref:l},[e("button",{onClick:s,class:"w-10 h-10 rounded-full overflow-hidden border-2 border-gray-600 hover:border-indigo-400 transition-colors duration-200"},[e("img",{src:C.auth.user.avatar,alt:"Avatar",class:"w-full h-full object-cover"},null,8,rt)]),k.value?(t(),n("div",nt,r[1]||(r[1]=[e("a",{href:"/logout",class:"block px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200"}," Выйти ",-1)]))):_("",!0)],512)):(t(),n("button",{key:2,onClick:T,class:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors duration-200"}," Войти "))])]),e("button",{onClick:a,class:"md:hidden p-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-colors duration-200"},[w.value?(t(),n("svg",at,r[3]||(r[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(t(),n("svg",lt,r[2]||(r[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])))])]),w.value?(t(),n("div",it,[e("div",dt,[e("div",ct,[(t(),n(L,null,O(M,(g,o)=>e("a",{key:o,href:g.link,target:"_blank",class:"flex items-center space-x-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors duration-200"},[e("img",{src:g.image,alt:"icon",class:"w-5 h-5"},null,8,gt),e("span",pt,c(g.label),1)],8,ut)),64))]),e("div",xt,[C.auth.user?(t(),n("div",ht,[e("div",{class:"flex items-center justify-between px-4 py-3 bg-gray-800 rounded-lg cursor-pointer",onClick:b},[r[6]||(r[6]=e("span",{class:"text-white font-medium"},"Баланс",-1)),e("div",mt,[e("span",vt,c(u.value||"0"),1),r[5]||(r[5]=e("img",{src:"https://img.icons8.com/nolan/64/cheap-2.png",alt:"Coin",class:"w-5 h-5"},null,-1))])]),r[7]||(r[7]=e("a",{href:"/logout",class:"block px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors duration-200"}," Выйти ",-1))])):(t(),n("button",{key:1,onClick:T,class:"w-full px-4 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors duration-200"}," Войти "))])])])):_("",!0)]),F(Je,{isVisible:$.value,onClose:x},null,8,["isVisible"])]))}},yt=K(bt,[["__scopeId","data-v-373c1b08"]]),ft={class:"bg-gray-900/90 p-6 rounded-xl text-white w-full border border-gray-800 shadow-lg mb-[15px] min-w-[21vw] max-w-[700px] max-h-[320px] min-h-[200px]"},wt={class:"grid grid-cols-2 gap-4 mb-6"},kt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},_t={class:"flex items-center justify-center min-h-screen p-4"},$t={class:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-lg w-full z-10 relative transform transistion-all",style:{"min-width":"200px","max-width":"1000px"}},Ct={class:"flex justify-between items-center mb-6"},jt={class:"text-xl font-bold text-white flex items-center"},St={key:0,class:"space-y-4"},Mt={key:1,class:"space-y-4"},Bt={key:2,class:"space-y-4"},Tt={key:3,class:"space-y-4"},ae={__name:"Information",setup(C){const{t:$,locale:w}=de(),k=p(!1),l=p(null),u=a=>{l.value=a,k.value=!0,document.body.style.overflow="hidden"},M=()=>{k.value=!1,document.body.style.overflow=""},B={servers:"modals.servers",rules:"modals.rules",commands:"modals.commands",faq:"modals.faq"},b=z(()=>{const a=B[l.value];return a?$(a):""}),x=z(()=>{switch(l.value){case"rules":return{svg:q("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(168, 85, 247)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[q("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),q("path",{d:"m9 12 2 2 4-4"})]),bgColor:"bg-purple-500/20",color:"rgb(168, 85, 247)"};case"commands":return{svg:q("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(59, 130, 246)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[q("polyline",{points:"9 10 4 15 9 20"}),q("path",{d:"M20 4v7a4 4 0 0 1-4 4H4"})]),bgColor:"bg-blue-500/20",color:"rgb(59, 130, 246)"};case"faq":return{svg:q("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgb(34, 197, 94)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[q("circle",{cx:"12",cy:"12",r:"10"}),q("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),q("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]),bgColor:"bg-green-500/20",color:"rgb(34, 197, 94)"};default:return{}}});return(a,s)=>(t(),n("div",ft,[s[14]||(s[14]=H('<h3 class="text-xl font-bold mb-6 flex items-center" style="margin-bottom:15px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line></svg> Информация </h3>',1)),e("div",wt,[e("div",{onClick:s[0]||(s[0]=h=>u("rules")),class:"bg-black/20 border border-gray-700 p-4 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-105"},s[4]||(s[4]=[H('<div class="flex items-center justify-center mb-2"><div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgb(168, 85, 247)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"></path><path d="m9 12 2 2 4-4"></path></svg></div></div><p class="text-center font-bold">Правила </p>',2)])),e("div",{onClick:s[1]||(s[1]=h=>u("servers")),class:"bg-black/20 border border-gray-700 p-4 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-105"},s[5]||(s[5]=[H('<div class="flex items-center justify-center mb-2"><div class="w-10 h-10 rounded-lg bg-indigo-500/20 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgb(99, 102, 241)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg></div></div><p class="text-center font-bold">Сервера</p>',2)])),e("div",{onClick:s[2]||(s[2]=h=>u("commands")),class:"bg-black/20 border border-gray-700 p-4 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-105"},s[6]||(s[6]=[H('<div class="flex items-center justify-center mb-2"><div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgb(59, 130, 246)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path></svg></div></div><p class="text-center font-bold">Команды</p>',2)])),e("div",{onClick:s[3]||(s[3]=h=>u("faq")),class:"bg-black/20 border border-gray-700 p-4 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-105"},s[7]||(s[7]=[H('<div class="flex items-center justify-center mb-2"><div class="w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgb(34, 197, 94)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg></div></div><p class="text-center font-bold">FAQ</p>',2)]))]),F(Y,{name:"modal-fade"},{default:J(()=>[k.value?(t(),n("div",kt,[e("div",_t,[e("div",{class:"fixed inset-0 bg-black/70 transition-opacity",onClick:M}),e("div",$t,[e("div",Ct,[e("h3",jt,[e("div",{class:N(["mr-3 p-2 rounded-lg",x.value.bgColor])},[(t(),U(ue(x.value.svg),{class:"w-5 h-5",stroke:x.value.color},null,8,["stroke"]))],2),A(" "+c(b.value),1)]),e("button",{onClick:M,class:"text-gray-400 hover:text-white transition-colors"},s[8]||(s[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),l.value==="rules"?(t(),n("div",St,s[9]||(s[9]=[e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("h4",{class:"text-indigo-400 font-bold mb-2"},"📌 Общие правила"),e("p",{class:"text-gray-300 text-sm"},"1. Уважай других игроков, адекватное поведение — это основа комфорта для всех."),e("p",{class:"text-gray-300 text-sm"},"2. Запрещены токсичность, оскорбления, травля и провокации."),e("p",{class:"text-gray-300 text-sm"},"3. Запрещено использование читов, макросов и стороннего ПО.")],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("h4",{class:"text-indigo-400 font-bold mb-2"},"⚔️ PvP и грабеж"),e("p",{class:"text-gray-300 text-sm"},'4. PvP разрешён на всей карте, кроме зон с меткой "No PvP".'),e("p",{class:"text-gray-300 text-sm"},"5. Грабеж разрешён, но грифинг без цели (вандализм) — запрещён."),e("p",{class:"text-gray-300 text-sm"},"6. Запрещено кемперство у спавна более 10 минут."),e("p",{class:"text-gray-300 text-sm"},"7. Использование багов в рейде карается баном."),e("p",{class:"text-gray-300 text-sm"},"8. Запрещены ловушки возле телепортов и ивентов."),e("p",{class:"text-gray-300 text-sm"},"9. Подлог под админов или ложные жалобы = блокировка."),e("p",{class:"text-gray-300 text-sm"},"10. Рейды вне вайпа запрещены, если нет разрешения админа.")],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("h4",{class:"text-indigo-400 font-bold mb-2"},"🏡 Постройки"),e("p",{class:"text-gray-300 text-sm"},"11. Запрещено строить вблизи чужих баз (минимум 20 фундаментов)."),e("p",{class:"text-gray-300 text-sm"},"12. Запрещены базы в текстурах или багнутых местах."),e("p",{class:"text-gray-300 text-sm"},"13. Лагометы и строения, сильно нагружающие сервер — будут удалены."),e("p",{class:"text-gray-300 text-sm"},"14. Не мешай дороге и ивент-локациям своими постройками."),e("p",{class:"text-gray-300 text-sm"},"15. Админы имеют право снести базу без возврата, если она нарушает правила.")],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("h4",{class:"text-indigo-400 font-bold mb-2"},"📣 Коммуникация"),e("p",{class:"text-gray-300 text-sm"},"16. Запрещён спам и флуд в чате, голосом — тоже."),e("p",{class:"text-gray-300 text-sm"},"17. Реклама других серверов, дискордов — бан навсегда."),e("p",{class:"text-gray-300 text-sm"},"18. Никнейм, аватар или описание с матом/пропагандой — будет изменено или игрок получит бан."),e("p",{class:"text-gray-300 text-sm"},"19. Админ — не твой слуга. Обращайся с уважением.")],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("h4",{class:"text-indigo-400 font-bold mb-2"},"👮 Администрация"),e("p",{class:"text-gray-300 text-sm"},"20. Администрация не вмешивается в игровой процесс без причины."),e("p",{class:"text-gray-300 text-sm"},"21. Решение админа — окончательное. Обжаловать можно через Discord."),e("p",{class:"text-gray-300 text-sm"},"22. Поддержка работает в адекватное время суток :)"),e("p",{class:"text-gray-300 text-sm"},"23. Обход блокировки — перманентный бан."),e("p",{class:"text-gray-300 text-sm"},"24. Обман администрации = бан без шансов на разбан."),e("p",{class:"text-gray-300 text-sm"},"25. Мы за честную игру. Не нравится? Rust — не для тебя 😘"),e("p",{class:"text-gray-300 text-sm"},"26. Обновления правил могут быть без предварительного уведомления.")],-1)]))):_("",!0),l.value==="commands"?(t(),n("div",Mt,s[10]||(s[10]=[e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("h4",{class:"text-blue-400 font-bold mb-3"},"Команды"),e("div",{class:"mb-2 last:mb-0"},[e("div",{class:"flex items-center"},[e("span",{class:"text-white font-mono bg-gray-700 px-2 py-1 rounded text-sm"},"/store"),e("span",{class:"text-gray-400 text-sm ml-3"},"открыть магазин")])]),e("div",{class:"mb-2 last:mb-0"},[e("div",{class:"flex items-center"},[e("span",{class:"text-white font-mono bg-gray-700 px-2 py-1 rounded text-sm"},"/store"),e("span",{class:"text-gray-400 text-sm ml-3"},"открыть магазин")])])],-1)]))):_("",!0),l.value==="faq"?(t(),n("div",Bt,s[11]||(s[11]=[e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("details",{class:"group"},[e("summary",{class:"flex justify-between items-center cursor-pointer list-none"},[e("h4",{class:"text-indigo-400 font-bold"},"Что это за проект?"),e("div",{class:"text-gray-400 transition-transform duration-300 group-open:rotate-180"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})])])]),e("div",{class:"pt-3 text-gray-300 text-sm"}," Это приватный проект, где можно играть на честных условиях с минимальной модерацией. ")])],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("details",{class:"group"},[e("summary",{class:"flex justify-between items-center cursor-pointer list-none"},[e("h4",{class:"text-indigo-400 font-bold"},"Нужен ли вайп?"),e("div",{class:"text-gray-400 transition-transform duration-300 group-open:rotate-180"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})])])]),e("div",{class:"pt-3 text-gray-300 text-sm"}," Вайпы проходят раз в месяц или по мере необходимости, но всё по-человечески 🫶 ")])],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("details",{class:"group"},[e("summary",{class:"flex justify-between items-center cursor-pointer list-none"},[e("h4",{class:"text-indigo-400 font-bold"},"Какие правила?"),e("div",{class:"text-gray-400 transition-transform duration-300 group-open:rotate-180"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})])])]),e("div",{class:"pt-3 text-gray-300 text-sm"}," Не быть токсиком, не абьюзить баги, и просто играть честно. Ну, и без читов конечно. ")])],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("details",{class:"group"},[e("summary",{class:"flex justify-between items-center cursor-pointer list-none"},[e("h4",{class:"text-indigo-400 font-bold"},"Где задать вопрос или пожаловаться?"),e("div",{class:"text-gray-400 transition-transform duration-300 group-open:rotate-180"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})])])]),e("div",{class:"pt-3 text-gray-300 text-sm"},[A(" Напиши в "),e("a",{href:"https://t.me/",target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:underline"},"Telegram"),A(" или в "),e("a",{href:"https://vk.com/",target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:underline"},"VK"),A(" — ответим. ")])])],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("details",{class:"group"},[e("summary",{class:"flex justify-between items-center cursor-pointer list-none"},[e("h4",{class:"text-indigo-400 font-bold"},"Есть ли донат?"),e("div",{class:"text-gray-400 transition-transform duration-300 group-open:rotate-180"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})])])]),e("div",{class:"pt-3 text-gray-300 text-sm"}," Есть. Но он максимально лайтовый и никак не даёт прям супер-преимуществ. ")])],-1),e("div",{class:"p-4 bg-black/20 rounded-xl border border-gray-700"},[e("details",{class:"group"},[e("summary",{class:"flex justify-between items-center cursor-pointer list-none"},[e("h4",{class:"text-indigo-400 font-bold"},"Контакты"),e("div",{class:"text-gray-400 transition-transform duration-300 group-open:rotate-180"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})])])]),e("div",{class:"pt-3 text-gray-300 text-sm"},[A(" Telegram: "),e("a",{href:"https://t.me/bloodyrust",target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:underline"},"https://t.me/"),e("br"),A(" Discord: "),e("a",{href:"https://dsc.gg/bloodyrust",target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:underline"},"https://dsc.gg/"),e("br"),A(" VK: "),e("a",{href:"https://vk.com/bloodyrust",target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:underline"},"https://vk.com/")])])],-1)]))):_("",!0),l.value==="servers"?(t(),n("div",Tt,s[12]||(s[12]=[e("section",{class:"p-4 bg-black/25 rounded-lg border border-gray-600"},[e("h4",{class:"text-cyan-400 font-semibold mb-2"},"Наши игровые сервера"),e("article",{class:"mb-3 p-3 bg-gray-800/60 rounded-md"},[e("p",{class:"text-gray-300 text-sm"}," RustWorld Prime #1 [ x2 Рейты | SOLO | Телепорт | Киты | RPG | Уровни ] Карта: Procedural "),e("p",{class:"text-gray-400 text-sm mt-1"},"ip: play.rustworld.ru")])],-1)]))):_("",!0),e("div",{class:"mt-6 flex justify-end",style:{display:"none"}},[e("button",{onClick:M,class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-300 font-medium text-sm flex items-center"},s[13]||(s[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),A(" Закрыть ")]))])])])])):_("",!0)]),_:1})]))}},It={class:"bg-gray-900/90 text-white p-6 rounded-t-xl border border-gray-800 shadow-lg",style:{"border-bottom":"none"}},Nt={class:"mb-6 relative"},At={key:0,class:"flex flex-wrap gap-3"},zt=["onClick"],Ft=["innerHTML"],Pt={key:1,class:"animate-pulse"},Lt={class:"flex flex-wrap gap-3"},Ot={__name:"Categories",props:["categories","onSearch"],emits:["update:searchQuery","reset"],setup(C,{emit:$}){const w=C,k=$,l=p(""),u=p(null),M=()=>{u.value=null,w.onSearch(l.value,null)},B=a=>{u.value=a.id,w.onSearch(l.value,a.id)},b=()=>{l.value="",w.onSearch("",u.value),k("update:searchQuery","")};ee(l,a=>{w.onSearch(a,u.value),k("update:searchQuery",a)});const x=a=>{if(typeof a=="string"){const T=new DOMParser().parseFromString(a,"image/svg+xml").documentElement;return T.setAttribute("height","20px"),T.outerHTML}return a};return(a,s)=>(t(),n("div",It,[s[4]||(s[4]=H('<h2 class="text-xl font-bold mb-6 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg> Магазин </h2>',1)),e("div",Nt,[s[2]||(s[2]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-gray-400"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})])],-1)),oe(e("input",{"onUpdate:modelValue":s[0]||(s[0]=h=>l.value=h),type:"text",id:"product-search",name:"product-search",placeholder:"Поиск по товарам...",class:"w-full px-4 py-3 pl-12 bg-gray-800/80 text-white rounded-lg border border-gray-700 focus:border-red-500 focus:ring-2 focus:ring-red-500/30 transition-all duration-300 outline-none",style:{"box-shadow":"rgba(255, 255, 255, 0.13) 0px 0px 0px 1px",border:"none"}},null,512),[[re,l.value]]),l.value?(t(),n("button",{key:0,onClick:b,class:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-white"},s[1]||(s[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))):_("",!0)]),s[5]||(s[5]=e("div",{class:"mb-6"},[e("h3",{class:"text-sm font-medium text-gray-400 mb-3 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})]),A(" Категории товаров ")])],-1)),C.categories&&C.categories.length>0?(t(),n("div",At,[e("button",{class:N(["flex items-center px-4 py-2 rounded-lg text-sm font-semibold shadow-sm",u.value?"bg-gray-800/70 hover:bg-[#6366f1] border border-gray-700 text-gray-200":"bg-[#6366f1] border border-gray-700 text-gray-200"]),onClick:M},s[3]||(s[3]=[H('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg> Все товары ',2)]),2),(t(!0),n(L,null,O(C.categories,h=>(t(),n("button",{key:h.id,class:N(["flex items-center px-4 py-2 rounded-lg text-sm font-semibold shadow-sm",h.id===u.value?"bg-[#6366f1] border border-gray-700 text-gray-200":"bg-gray-800/70 hover:bg-[#6366f1] border border-gray-700 text-gray-200"]),onClick:T=>B(h)},[h.icon?(t(),n("div",{key:0,innerHTML:x(h.icon),class:N(["w-5 h-5 mr-2 flex-shrink-0",h.id===u.value?"text-white":"text-gray-400"]),style:{height:"20px"}},null,10,Ft)):_("",!0),e("span",null,c(h.name),1)],10,zt))),128))])):(t(),n("div",Pt,[e("div",Lt,[(t(),n(L,null,O(5,h=>e("div",{key:h,class:"bg-gray-800/70 rounded-lg h-10 w-32 border border-gray-700"})),64))])]))]))}},Et={class:"text-xl font-semibold text-white mb-4",style:{"text-align":"center",height:"30px","margin-top":"-12px","padding-bottom":"40px"}},qt={class:"text-white"},Vt={__name:"Modal",props:{isOpen:Boolean,title:{type:String,default:"Подтвердите действие"},confirmText:{type:String,default:"Подтвердить"}},emits:["close","confirm"],setup(C,{emit:$}){const w=C,k=$,l=p(null),u=p(null),M=()=>k("close"),B=s=>{if(!u.value)return;if(!u.value.contains(s.target)){s.preventDefault();const T=s.deltaY;u.value.scrollTop+=T}},b=s=>{s.key==="Escape"&&M()},x=()=>{const s=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${s}px`,document.body.style.width="100%",document.body.style.overflow="hidden"},a=()=>{const s=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,parseInt(s||"0")*-1)};return ee(()=>w.isOpen,s=>{s?x():a()},{immediate:!0}),V(()=>{window.addEventListener("keydown",b)}),te(()=>{window.removeEventListener("keydown",b),a()}),(s,h)=>(t(),U(Y,{name:"modal-fade"},{default:J(()=>[C.isOpen?(t(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-auto",onClick:le(M,["self"]),onWheel:B,ref_key:"modalBackdrop",ref:l},[e("div",{class:"bg-gray-800 p-6 rounded-lg shadow-lg relative mt-5 mb-5",style:{"border-radius":"20px","max-width":"400px","min-width":"200px","max-height":"90vh","overflow-y":"auto"},ref_key:"modalContent",ref:u},[e("h3",Et,c(C.title),1),e("div",qt,[ge(s.$slots,"default",{},void 0,!0)])],512)],544)):_("",!0)]),_:3}))}},Dt=K(Vt,[["__scopeId","data-v-4ede6b05"]]),Ht={class:"fixed top-5 right-5 space-y-2 z-50"},Qt={class:"text-xl"},Rt={class:"flex-1"},Ut={class:"font-semibold text-base"},Jt={class:"text-sm opacity-90"},Kt=["onClick"],Wt={__name:"NotifyStack",setup(C,{expose:$}){const w=p([]),k={success:"bg-darkgreen-500/60 text-emerald-50 border-emerald-500",error:"bg-darkred-200/60 text-wht-100 border-rose-500",warning:"bg-amber-900/80 text-amber-50 border-amber-500",info:"bg-indigo-900/80 text-indigo-50 border-indigo-500"},l={success:"bg-emerald-500/30",error:"bg-rose-500/30",warning:"bg-amber-500/30",info:"bg-indigo-500/30"},u={success:"✓",error:"×",warning:"!",info:"i"},M=(b,x,a,s=3e3)=>{w.value.length>=3&&w.value.shift();const h=Date.now();w.value.push({id:h,title:b,message:x,status:a}),setTimeout(()=>{B(h)},s)},B=b=>{const x=w.value.findIndex(a=>a.id===b);x!==-1&&w.value.splice(x,1)};return $({addNotification:M}),(b,x)=>(t(),U(ne,{to:"body"},[e("div",Ht,[F(pe,{name:"notify-slide",tag:"div"},{default:J(()=>[(t(!0),n(L,null,O(w.value,(a,s)=>(t(),n("div",{key:a.id,class:N([["notify",k[a.status]],"p-4 rounded-lg shadow-xl flex items-center space-x-4 backdrop-blur-sm border border-opacity-20 max-w-md"]),style:Q({marginTop:`${s*.5}rem`})},[e("div",{class:N([["icon-container",l[a.status]],"p-3 rounded-full flex items-center justify-center"])},[e("span",Qt,c(u[a.status]),1)],2),e("div",Rt,[e("h3",Ut,c(a.title),1),e("p",Jt,c(a.message),1)]),e("button",{onClick:h=>B(a.id),class:"text-sm opacity-70 hover:opacity-100 transition-opacity"},x[0]||(x[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]),8,Kt)],6))),128))]),_:1})])]))}},Gt=K(Wt,[["__scopeId","data-v-6c4eaf53"]]),Yt={class:"bg-gray-900/90 p-6 rounded-b-xl shadow-lg border border-gray-800",style:{"margin-bottom":"5px","border-top":"none",position:"relative","padding-top":"3px"}},Xt={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-5"},Zt={key:1,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-5"},es=["onClick"],ts={key:0,class:"absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-semibold text-white shadow-lg",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7)","background-size":"200% 200%",animation:"gradientMove 6s ease infinite"}},ss={key:1,class:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold text-white shadow-lg",style:{background:"linear-gradient(135deg, #6a5acd, #00c3ff)","background-size":"200% 200%",animation:"gradientMove 6s ease infinite","text-shadow":"0 0 6px rgba(0,0,0,0.7)"}},os={class:"flex items-center justify-center rounded-xl p-3 mb-4 w-full h-36"},rs=["src"],ns={class:"text-center font-semibold text-base line-clamp-2 mb-2 px-2",style:{color:"#e0e7ff"}},ls={class:"flex items-center gap-3"},as={key:0,class:"text-sm font-semibold line-through text-indigo-300 bg-indigo-700/40 px-3 py-1 rounded-lg select-none"},is={class:"text-lg font-bold text-indigo-100 bg-indigo-900/80 px-4 py-1 rounded-lg"},ds={class:"text-center mb-4"},cs=["src"],us=["innerHTML"],gs={key:1,class:"mb-4 border-t border-b border-gray-700 py-4"},ps={class:"grid grid-cols-2 gap-3"},xs={class:"p-2 rounded-lg mr-3"},hs=["src","alt"],ms={class:"text-sm font-semibold line-clamp-2"},vs={key:0,src:"/blueprint_icon.png",alt:"blueprint",class:"absolute top-1 right-1 w-6 h-6 z-50 drop-shadow-lg"},bs={class:"absolute -top-2 -right-2 bg-indigo-600 text-white text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full shadow-lg border border-indigo-400"},ys={class:"mt-4 p-4 bg-gray-800 rounded-lg border border-gray-700",style:{"border-radius":"10px","background-color":"rgba(107, 107, 107, 0.1)","margin-top":"10px"}},fs={class:"flex items-center justify-between"},ws={class:"flex items-center bg-gray-900 rounded-lg overflow-hidden border border-gray-700"},ks=["disabled"],_s={class:"w-16 h-10 flex justify-center items-center bg-gray-600 rounded-lg text-white font-bold text-lg",style:{height:"36px","border-radius":"0px"}},$s={class:"text-right animate-fade-in"},Cs={key:0,class:"text-sm text-gray-400 line-through"},js={class:"text-xl font-bold text-white transition-all duration-300 transform scale-100"},Ss={class:"mt-4 flex justify-between"},Ms={__name:"Products",props:{products:{type:Array,required:!0},loading:{type:Boolean,required:!0},searchQuery:{type:String,required:!0},activeCategoryId:{type:[String,Number],required:!1},activeServerId:{type:[String,Number],required:!1},auth:{type:Object,required:!0}},setup(C){const $=C,w=p(null),k=p(!1),l=p(!1),u=p(""),M=p(""),B=p(""),b=p(null),x=z(()=>b.value?(b.value.price*o.value).toFixed(0):0),a=z(()=>!b.value||!b.value.sale?0:(b.value.original_price*o.value).toFixed(0)),s=z(()=>{const S=$.searchQuery.toLowerCase();return $.products.filter(i=>{var m;const f=(m=i.name)==null?void 0:m.toLowerCase().includes(S),I=$.activeCategoryId?i.category_id===$.activeCategoryId:!0,W=$.activeServerId?i.server_id===$.activeServerId:!0;return f&&I&&W})}),h=z(()=>{if(b.value&&b.value.atr)try{return JSON.parse(b.value.atr)}catch(S){return console.error("Error parsing atr:",S),[]}else return[]}),T=S=>{if(!S.atr)return 0;try{const i=JSON.parse(S.atr);return Array.isArray(i)&&i.length>0?i.length>1?0:i[0].amount||0:0}catch(i){return console.error("Ошибка при парсинге atr:",i),0}},j=async S=>{try{o.value=1;const i=await R.get(`/api/shop-item/${S}`);b.value=i.data,u.value=b.value.name,B.value=b.value.image,M.value=b.value.about,l.value=!0}catch(i){console.error("Error fetching product info:",i)}};function y(S){try{if(S.atr){const i=JSON.parse(S.atr);if(i.length>0&&i[0].type)return i[0].type}return null}catch(i){return console.error("Ошибка при парсинге product.atrs:",i),null}}const r=(S,i,f)=>{var I;(I=Z.value)==null||I.addNotification(S,i,f,3e3)},g=async S=>{var m;if(!((m=$.auth)!=null&&m.user)){console.warn("Не авторизован"),r("Ошибка","Войдите в аккаунт, чтобы купить товар","error");return}if(k.value){r("Ошибка","Подождите перед следующей покупкой","error");return}const i=S.original_price,f=S.sale&&S.sale>0?S.sale/100:0,I=i*(1-f),W=Math.round(I*o.value);if($.auth.user.balance<W){r("Ошибка","Недостаточно средств","error");return}k.value=!0,setTimeout(()=>k.value=!1,300);try{const d=await fetch(`/shop/buy/${S.id}?quantity=${o.value}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(d.status===200)await d.json(),r("Успех","Товар куплен","success");else throw new Error}catch{r("Ошибка","Недостаточно средств","error")}},o=p(1),E=z(()=>{if(!b.value||!h.value.length)return o.value;const S=h.value.filter(i=>i.type==="item");return S.length!==1?o.value:S[0].amount*o.value}),X=S=>{o.value=Math.max(1,o.value+S)},Z=p(null),P=S=>{S.target===S.currentTarget&&(l.value=!1)};return(S,i)=>(t(),n(L,null,[F(Gt,{ref_key:"notifyStack",ref:Z},null,512),w.value?(t(),U(ce,{key:0,title:w.value.title,message:w.value.message,status:w.value.status},null,8,["title","message","status"])):_("",!0),e("div",Yt,[C.loading?(t(),n("div",Xt,[(t(),n(L,null,O(12,f=>e("div",{key:f,class:"bg-gray-800/70 p-4 rounded-xl animate-pulse border border-gray-700"},i[7]||(i[7]=[e("div",{class:"w-full h-32 bg-gray-700 rounded-lg mb-3"},null,-1),e("div",{class:"h-4 bg-gray-700 rounded w-3/4 mb-2"},null,-1),e("div",{class:"h-3 bg-gray-700 rounded w-1/2"},null,-1)]))),64))])):(t(),n("div",Zt,[(t(!0),n(L,null,O(s.value,f=>(t(),n("div",{key:f.id,class:N(["relative bg-gray-800/70 hover:bg-[#2a2a2ae6] p-5 rounded-2xl text-white cursor-pointer transition-all duration-500 ease-in-out shadow-md hover:shadow-indigo-glow flex flex-col items-center hover:scale-105",`class-custom-item-${f.id}`]),onClick:I=>j(f.id),style:Q([y(f)==="blueprint"?{backgroundImage:"url(https://static.wikia.nocookie.net/play-rust/images/b/ba/Building_Plan_icon.png)",backgroundSize:"160px 160px",backgroundPosition:"top",backgroundRepeat:"no-repeat",position:"relative"}:{},{transition:"all 0.5s ease-in-out","box-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}]),onMouseenter:i[0]||(i[0]=I=>I.target.style.boxShadow="0 20px 40px -12px rgba(99, 102, 241, 0.4), 0 12px 25px -8px rgba(139, 92, 246, 0.3), 0 8px 16px -4px rgba(168, 85, 247, 0.2)"),onMouseleave:i[1]||(i[1]=I=>I.target.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)")},[f.sale?(t(),n("div",ts," -"+c(f.sale)+"% ",1)):_("",!0),T(f)>1?(t(),n("div",ss," x"+c(T(f)),1)):_("",!0),e("div",os,[e("img",{src:f.image,alt:"product",class:"max-h-full object-contain transition-transform duration-500 group-hover:scale-110",style:{transform:"scale(1.3)"}},null,8,rs)]),e("h3",ns,c(f.name),1),e("div",ls,[f.sale>1?(t(),n("p",as,c(f.price)+" ₽ ",1)):_("",!0),e("p",is,c(f.sale>1?Math.round(f.price*(1-f.sale/100)):f.price)+" ₽ ",1)])],46,es))),128))])),i[8]||(i[8]=e("footer",{class:"text-gray-400 text-center py-4 text-sm w-full mt-auto relative z-10",style:{"margin-bottom":"-20px",animation:"fade-in 5s forwards"}}," Все покупки носят виртуальный характер и не подлежат возврату ",-1))]),F(Dt,{onMousedown:le(P,["self"]),isOpen:l.value,title:u.value},{default:J(()=>[e("button",{onClick:i[2]||(i[2]=f=>l.value=!1),class:"absolute top-4 right-4 text-white"},"✕"),e("div",ds,[B.value?(t(),n("img",{key:0,style:{width:"250px",height:"250px"},src:B.value,alt:"Product Image",class:"w-50 h-50 object-contain mx-auto mb-3"},null,8,cs)):_("",!0)]),M.value.includes("/empty")?_("",!0):(t(),n("div",{key:0,class:"text-white text-sm prose prose-invert max-w-none",style:{"border-radius":"10px",padding:"20px","background-color":"rgb(107 107 107 / 10%)"},innerHTML:M.value},null,8,us)),h.value.length>1?(t(),n("div",gs,[i[9]||(i[9]=e("h3",{class:"text-lg font-semibold text-white mb-3 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})]),A(" В составе ")],-1)),e("div",ps,[(t(!0),n(L,null,O(h.value,f=>(t(),n("div",{key:f.name,class:"relative bg-gray-800 p-3 rounded-lg flex items-center backdrop-blur-sm border border-gray-700 hover:border-indigo-500 transition-colors"},[e("div",xs,[e("img",{src:f.image,alt:f.name,class:"w-10 h-10 object-contain"},null,8,hs)]),e("span",ms,c(f.name),1),f.type==="blueprint"?(t(),n("img",vs)):_("",!0),e("span",bs," x"+c(f.amount),1)]))),128))])])):_("",!0),e("div",ys,[i[12]||(i[12]=e("h3",{class:"text-lg font-semibold text-white mb-3 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),e("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e("path",{d:"M16 10a4 4 0 0 1-8 0"})]),A(" Количество ")],-1)),e("div",fs,[e("div",ws,[e("button",{onClick:i[3]||(i[3]=f=>X(-1)),class:"text-white px-3 py-2 transition-all duration-200 focus:outline-none",style:{background:"linear-gradient(-45deg, #6366f1, #8b5cf6, #a855f7, #6366f1)","background-size":"300% 300%"},disabled:o.value<=1},i[10]||(i[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)]),8,ks),e("div",_s,c(E.value),1),e("button",{onClick:i[4]||(i[4]=f=>X(1)),class:"text-white px-3 py-2 transition-all duration-200",style:{background:"linear-gradient(-45deg, #6366f1, #8b5cf6, #a855f7, #6366f1)","background-size":"300% 300%"}},i[11]||(i[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)]))]),e("div",$s,[b.value&&b.value.sale?(t(),n("p",Cs,c(a.value)+" ₽ ",1)):_("",!0),e("p",js,c(x.value)+" ₽ ",1)])])]),i[14]||(i[14]=e("div",{class:"mt-6 p-4 bg-gray-600 rounded-lg border border-indigo-600/50 backdrop-blur-sm shadow-lg",style:{"margin-top":"10px",padding:"15px","background-color":"rgba(107, 107, 107, 0.1)"}},[e("div",{class:"flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white/80 mr-3"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]),e("p",{class:"text-white/80 text-sm",style:{"font-size":"9.2pt",margin:"-2px -6px -4px"}}," Используйте /store для получения предмета на сервере ")])],-1)),e("div",Ss,[e("button",{onClick:i[5]||(i[5]=f=>l.value=!1),class:"px-5 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors shadow-lg"}," Отмена "),e("button",{onClick:i[6]||(i[6]=f=>g(b.value)),class:"px-5 py-2 text-white rounded-lg transition-colors shadow-lg flex items-center",style:{background:"linear-gradient(-45deg, #6366f1, #8b5cf6, #a855f7, #6366f1)","background-size":"300% 300%"}},i[13]||(i[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("circle",{cx:"9",cy:"21",r:"1"}),e("circle",{cx:"20",cy:"21",r:"1"}),e("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})],-1),A(" Приобрести ")]))])]),_:1,__:[14]},8,["isOpen","title"])],64))}},Bs={class:"bg-gray-900/90 p-6 rounded-xl text-white w-full border border-gray-800 shadow-lg"},Ts={class:"text-xl font-bold mb-4 flex items-center"},Is={key:0,class:"space-y-6"},Ns={class:"space-y-3"},As=["onClick","onMouseenter"],zs={class:"flex items-center space-x-3"},Fs=["stroke"],Ps={class:"text-sm font-bold"},Ls={class:"flex items-center mt-1"},Os={class:"relative w-24 h-2 bg-gray-700 rounded-full overflow-hidden mr-2",style:{width:"114px"}},Es={class:"text-xs text-gray-400"},qs={key:0,class:"text-amber-500"},Vs={key:1,class:"text-purple-400"},Ds={class:"flex items-center mt-1 space-x-2"},Hs={class:"text-xs text-gray-400",style:{"letter-spacing":"0.06rem","font-size":"13px"}},Qs={class:"flex items-center space-x-3"},Rs={key:0,class:"text-xs text-gray-400"},Us={class:"space-y-3"},Js={key:0,class:"flex justify-between items-center p-2 rounded-xl bg-gray-800/50 border border-gray-700"},Ks={class:"text-sm font-medium px-2"},Ws={class:"flex items-center"},Gs={class:"relative w-24 h-2 bg-gray-700 rounded-full overflow-hidden mr-2"},Ys={class:"text-xs text-gray-400"},Xs={key:0,class:"text-amber-500"},ie={__name:"Monitoring",props:{selectedServerId:{type:[Number,String,null],default:1}},emits:["server-selected"],setup(C,{emit:$}){const{t:w,locale:k}=de(),l=p([]),u=p(null),M=$,B=z(()=>l.value.sort((r,g)=>r.id>g.id?1:r.id<g.id?-1:0)),b=z(()=>l.value.reduce((r,g)=>r+(g.online||0),0)),x=z(()=>{let r=0;return l.value.forEach(g=>{r+=g.status==="Доступен"?(g.online||0)+2:g.online||0}),r}),a=z(()=>l.value.reduce((r,g)=>r+(g.slots||0),0)),s=z(()=>l.value.reduce((r,g)=>r+(g.joining||0),0)),h=z(()=>l.value.reduce((r,g)=>r+(g.queue||0),0)),T=r=>{console.log("Сервер выбран:",r.id,r.name),M("server-selected",r.id)},j=r=>r.ip&&r.port?`${r.ip}:${r.port}`:"Unknown Server",y=async()=>{try{const r=await R.get("/api/servers");l.value=r.data}catch(r){console.error("Ошибка загрузки данных серверов:",r),l.value=[]}};return V(()=>{y(),setInterval(y,3e5)}),(r,g)=>(t(),n("div",Bs,[e("h2",Ts,[g[1]||(g[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})],-1)),A(" "+c(r.$t("monitoring_servers")),1)]),l.value&&l.value.length>0?(t(),n("div",Is,[e("div",Ns,[(t(!0),n(L,null,O(B.value,o=>(t(),n("div",{onClick:E=>T(o),key:o.id,class:N(["flex justify-between items-center p-4 rounded-xl transition-all duration-300 cursor-pointer","bg-black/20 border border-gray-700",{"border-[#6366f1] active-shadow":C.selectedServerId===o.id},{"transform hover:scale-105":u.value===o.id}]),style:{padding:"10px","min-width":"335px","max-width":"900px"},onMouseenter:E=>u.value=o.id,onMouseleave:g[0]||(g[0]=E=>u.value=null)},[e("div",zs,[e("div",{class:N(["w-10 h-10 rounded-lg flex items-center justify-center",((o.status==="Доступен"?o.online+2:o.online)>0,"bg-green-500/20")])},[(t(),n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:((o.status==="Доступен"?o.online+2:o.online)>0,"rgb(34, 197, 94)"),"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},g[2]||(g[2]=[e("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"},null,-1)]),8,Fs))],2),e("div",null,[e("p",Ps,c(o.name),1),e("div",Ls,[e("div",Os,[e("div",{style:Q(`width: ${(o.status==="Доступен"?o.online+2:o.online)/o.slots*100}%`),class:N(["h-full absolute left-0 top-0 z-10",(o.status==="Доступен"?o.online+2:o.online)/o.slots>.8?"bg-red-500":(o.status==="Доступен"?o.online+2:o.online)/o.slots>.5?"bg-yellow-500":"bg-green-500"])},null,6),o.joining>0?(t(),n("div",{key:0,style:Q(`width: ${o.joining/o.slots*100}%; left: ${(o.status==="Доступен"?o.online+2:o.online)/o.slots*100}%`),class:"h-full rounded-r-full absolute top-0 z-20 bg-amber-500"},null,4)):_("",!0),o.queue>0?(t(),n("div",{key:1,style:Q(`width: ${o.queue/o.slots*100}%; left: ${((o.status==="Доступен"?o.online+2:o.online)+o.joining)/o.slots*100}%`),class:"h-full rounded-full absolute top-0 z-30 bg-amber-500"},null,4)):_("",!0)]),e("p",Es,[A(c(o.status==="Доступен"?o.online+2:o.online)+" / "+c(o.slots)+" ",1),o.joining>0?(t(),n("span",qs," +"+c(o.joining),1)):_("",!0),o.queue>0?(t(),n("span",Vs," ("+c(o.queue)+" "+c(r.$t("in_queue"))+")",1)):_("",!0)])]),e("div",Ds,[e("p",Hs,[g[3]||(g[3]=e("span",{class:"text-indigo-400"},"connect",-1)),A(" "+c(j(o)),1)])])])]),e("div",Qs,[o.ping>0?(t(),n("div",Rs,c(o.ping)+"ms ",1)):_("",!0),e("div",{class:N(["text-xs font-bold px-3 py-1 rounded-full",o.status==="Доступен"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"])},c(r.$t(o.status==="Доступен"?"server_available":"server_notavailable")),3)])],42,As))),128))]),e("div",Us,[b.value>0?(t(),n("div",Js,[e("span",Ks,c(r.$t("all_servers")),1),e("div",Ws,[e("div",Gs,[e("div",{style:Q(`width: ${x.value/a.value*100}%`),class:N(["h-full absolute left-0 top-0 z-10",x.value/a.value>.8?"bg-red-500":x.value/a.value>.5?"bg-yellow-500":"bg-green-500"])},null,6),h.value>0?(t(),n("div",{key:0,style:Q(`width: ${h.value/a.value*100}%; left: ${(b.value+s.value+2)/a.value*100}%`),class:"h-full rounded-r-full absolute top-0 z-20 bg-amber-500"},null,4)):_("",!0)]),e("span",Ys,[A(c(x.value)+" / "+c(a.value)+" ",1),s.value>0?(t(),n("span",Xs," +"+c(s.value),1)):_("",!0)])])])):_("",!0)])])):_("",!0)]))}},Zs={class:"bg-gray-900/90 p-6 rounded-xl text-white w-full border border-gray-800 shadow-lg mt-5"},eo={class:"space-y-3"},to={class:"text-lg font-bold"},so={class:"bg-green-500/10 text-green-400 font-semibold text-sm px-3 py-1 rounded-lg"},oo={__name:"BonusInfo",setup(C){const $=p([]);async function w(){try{const l=await(await fetch("/api/payment-bonuses")).json();$.value=l.map(u=>({amount:Number(u.threshold),bonus:Number(u.percent)})).sort((u,M)=>M.amount-u.amount)}catch(k){console.error("Ошибка загрузки бонусов:",k)}}return V(()=>{w()}),(k,l)=>(t(),n("div",Zs,[l[1]||(l[1]=e("h2",{class:"text-xl font-semibold mb-4"},"🎁 Бонусы при пополнении",-1)),e("div",eo,[(t(!0),n(L,null,O($.value,(u,M)=>(t(),n("div",{key:M,class:"flex justify-between items-center bg-black/20 rounded-lg px-4 py-3 border border-white/10"},[e("div",null,[l[0]||(l[0]=e("p",{class:"text-sm text-white/70"},"Пополнение от",-1)),e("p",to,c(u.amount.toLocaleString())+" ₽",1)]),e("div",so," +"+c(u.bonus)+"% ",1)]))),128))])]))}},ro={class:"flex bg-gray-900 bg-opacity-50 min-h-screen h-full w-full relative z-10 flex-col"},no={class:"flex-1"},lo={class:"container mx-auto mt-4 content-container"},ao={class:"flex flex-col md:flex-row gap-4 justify-center rela-test"},io={class:"hidden md:block"},co={class:"w-full max-w-4xl"},uo={class:"md:hidden w-full mb-4"},go={class:"hidden md:block"},po={key:0,class:"w-full mb-4"},xo={__name:"index",props:["auth"],setup(C){const $=p(!1),w=()=>{$.value=window.innerWidth<768};V(()=>{w(),window.addEventListener("resize",w)}),te(()=>{window.removeEventListener("resize",w)});const k=p([]),l=p([]),u=p([]),M=p(!0),B=p(""),b=p(null),x=p(1);p(.7);const a=y=>{console.log("Выбран сервер с ID:",y),x.value=y;const r=k.value.find(g=>g.id===y);r&&console.log("Выбранный сервер:",r.name)},s=(y,r,g)=>{B.value=y,b.value=r,g!==void 0&&(x.value=g)};V(async()=>{try{const y=await R.get("/api/shop-data");k.value=y.data.servers,l.value=y.data.categories,u.value=y.data.shop_items}catch(y){console.error("Ошибка загрузки данных:",y)}finally{M.value=!1}});const h=p(""),T=xe(),j=p(!1);return V(()=>{var g;console.log("error mes sec load. DONE");const y=new URLSearchParams(window.location.search),r=y.get("auth_error")||((g=T.props.flash)==null?void 0:g.auth_error);if(r){if(h.value=r,j.value=!0,y.has("auth_error")){y.delete("auth_error");const o=window.location.pathname+(y.toString()?"?"+y.toString():"");window.history.replaceState({},"",o)}setTimeout(()=>{j.value=!1},3e3)}}),(y,r)=>{const g=he("Slider");return t(),n(L,null,[r[1]||(r[1]=e("div",{class:"background-image"},null,-1)),e("div",ro,[r[0]||(r[0]=e("h1",{class:"sr-only"},"Сервера Rust",-1)),e("div",no,[F(yt,{auth:C.auth},null,8,["auth"]),e("div",{class:N(["auth-error",{"auth-error--visible":j.value}])},c(h.value),3),e("div",lo,[e("div",ao,[e("div",io,[F(ie,{servers:k.value,selectedServerId:x.value,onServerSelected:a},null,8,["servers","selectedServerId"])]),e("div",co,[F(g),e("div",uo,[F(ie,{servers:k.value,selectedServerId:x.value,onServerSelected:a},null,8,["servers","selectedServerId"])]),F(Ot,{categories:l.value,servers:k.value,onSearch:s},null,8,["categories","servers"]),F(Ms,{auth:C.auth,products:u.value,loading:M.value,searchQuery:B.value,activeCategoryId:b.value,activeServerId:x.value},null,8,["auth","products","loading","searchQuery","activeCategoryId","activeServerId"])]),e("div",go,[F(ae,{servers:k.value},null,8,["servers"]),F(oo)]),$.value?(t(),n("div",po,[F(ae,{servers:k.value},null,8,["servers"])])):_("",!0)])])])])],64)}}},vo=K(xo,[["__scopeId","data-v-6058f81a"]]);export{vo as default};
